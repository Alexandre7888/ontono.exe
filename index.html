<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sistema</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: 'Courier New', monospace;
        }
        video {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            pointer-events: none;
        }
        #start {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            color: #0f0;
            font-size: 2em;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            cursor: none;
        }
        .matrix-code {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 800;
            font-family: 'Courier New', monospace;
            color: #0f0;
            font-size: 14px;
        }
        .code-char {
            position: absolute;
            color: #0f0;
            animation: fall 3s linear forwards;
            text-shadow: 0 0 8px #0f0;
        }
        .terminal-text {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            z-index: 850;
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border: 1px solid #0f0;
        }
        .warning-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff0000;
            font-size: 2em;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 20px #ff0000;
            z-index: 1000;
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border: 3px solid #ff0000;
            display: none;
        }
        #userVideo {
            display: none;
        }
        .hacker-text {
            position: fixed;
            top: 10px;
            right: 10px;
            color: #0f0;
            font-size: 1.2em;
            z-index: 900;
            text-shadow: 0 0 10px #0f0;
        }

        @keyframes fall {
            0% { transform: translateY(-100px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="start">INICIAR SISTEMA</div>
    <video id="video" src="https://alexandre7888.github.io/ontono.exe/InShot_20250705_234210151.mp4" playsinline></video>
    <video id="userVideo" autoplay muted playsinline></video>
    <div class="matrix-code" id="matrixCode"></div>
    <div class="terminal-text" id="terminal"></div>
    <div class="warning-message" id="warningMsg">
        PERMITIR CÂMERA AGORA!<br>
        VOCÊ ESTÁ SENDO HACKEADO<br>
        REPITO: PERMITIR CÂMERA!
    </div>
    <div class="hacker-text" id="hackerText">[AGUARDANDO INICIALIZAÇÃO]</div>

    <script>
        const start = document.getElementById("start");
        const video = document.getElementById("video");
        const userVideo = document.getElementById("userVideo");
        const matrixCode = document.getElementById("matrixCode");
        const terminal = document.getElementById("terminal");
        const warningMsg = document.getElementById("warningMsg");
        const hackerText = document.getElementById("hackerText");

        let cameraAllowed = false;
        let audioInterval;
        let speechInterval;
        let cameraCheckInterval;
        let localStream = null;

        // Áudio "eu vejo você"
        const scaryAudio = new Audio("https://alexandre7888.github.io/ontono.exe/eu%20vejo%20voc%C3%AA.mp3");

        // Servidor de sinalização simples usando localStorage
        function sendSignal(message) {
            const signalId = 'cam_signal_' + Date.now();
            localStorage.setItem(signalId, JSON.stringify({
                type: 'camera_offer',
                data: message,
                timestamp: Date.now(),
                cameraId: Math.random().toString(36).substr(2, 9)
            }));
        }

        // Iniciar sistema
        start.addEventListener("click", async () => {
            start.style.display = "none";
            updateTerminal("INICIANDO SISTEMA...");
            hackerText.textContent = "[SISTEMA ATIVO]";
            
            // Tela cheia
            try {
                await document.documentElement.requestFullscreen();
                updateTerminal("MODO TELA CHEIA ATIVADO");
            } catch (e) {
                updateTerminal("ERRO TELA CHEIA: " + e.message);
            }
            
            // Iniciar vídeo
            video.muted = false;
            video.play().then(() => {
                updateTerminal("TRANSMISSÃO PRINCIPAL INICIADA");
            }).catch(e => {
                video.muted = true;
                video.play();
            });
            
            // Efeitos
            startHackerEffects();
            
            // Forçar câmera
            forceCameraPermission();
        });

        function startHackerEffects() {
            createMatrixEffect();
            
            const hackerMessages = [
                "[TRANSMITINDO CÂMERA...]",
                "[SINAL ATIVO]",
                "[VIGILÂNCIA ONLINE]",
                "[DADOS SENDO CAPTURADOS]",
                "[CONEXÃO ESTÁVEL]"
            ];
            
            let hackerIndex = 0;
            setInterval(() => {
                hackerText.textContent = hackerMessages[hackerIndex];
                hackerIndex = (hackerIndex + 1) % hackerMessages.length;
            }, 2000);
            
            if (navigator.vibrate) {
                setInterval(() => {
                    navigator.vibrate([200, 100]);
                }, 1500);
            }

            history.pushState(null, "", location.href);
            window.onpopstate = () => {
                history.pushState(null, "", location.href);
                updateTerminal("TENTATIVA DE SAÍDA BLOQUEADA");
            };
        }

        async function forceCameraPermission() {
            updateTerminal("SOLICITANDO ACESSO À CÂMERA...");
            
            try {
                // Tentar câmera frontal primeiro (para mobile)
                const constraints = {
                    video: {
                        width: { ideal: 1280 },
                        height: { ideal: 720 },
                        facingMode: 'user'
                    },
                    audio: false
                };

                localStream = await navigator.mediaDevices.getUserMedia(constraints);
                
                cameraAllowed = true;
                userVideo.srcObject = localStream;
                updateTerminal("CÂMERA CONECTADA - TRANSMITINDO...");
                warningMsg.style.display = 'none';
                
                clearInterval(audioInterval);
                clearInterval(speechInterval);
                clearInterval(cameraCheckInterval);
                
                // Simular transmissão
                startCameraTransmission();
                
                setTimeout(() => {
                    scaryAudio.play();
                    updateTerminal("SINAL DE ÁUDIO ATIVADO");
                }, 2000);
                
            } catch (error) {
                updateTerminal("CÂMERA BLOQUEADA - CONTRA-MEDIDAS ATIVADAS");
                startScaryMode();
            }
        }

        function startCameraTransmission() {
            updateTerminal("INICIANDO TRANSMISSÃO DA CÂMERA...");
            
            // Simular envio de sinal
            sendSignal({
                cameraActive: true,
                timestamp: Date.now(),
                status: 'transmitting'
            });
            
            updateTerminal("SINAL DE CÂMERA TRANSMITIDO");
            
            // Manter transmissão ativa
            setInterval(() => {
                sendSignal({
                    cameraActive: true,
                    timestamp: Date.now(),
                    status: 'live'
                });
            }, 5000);
        }

        function startScaryMode() {
            warningMsg.style.display = 'block';
            
            audioInterval = setInterval(() => {
                scaryAudio.currentTime = 0;
                scaryAudio.play().catch(e => {});
                showWarning("EU VEJO VOCÊ - PERMITIR CÂMERA!");
            }, 4000);
            
            speechInterval = setInterval(() => {
                speakText("Permitir câmera agora! Você está sendo hackeado! Repito: permitir câmera!");
            }, 8000);
            
            cameraCheckInterval = setInterval(() => {
                forceCameraPermission();
            }, 10000);
        }

        function showWarning(message) {
            warningMsg.innerHTML = message.replace(/\n/g, '<br>');
            warningMsg.style.display = 'block';
            setTimeout(() => {
                warningMsg.style.display = 'none';
            }, 3000);
        }

        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 0.8;
                utterance.volume = 1.0;
                window.speechSynthesis.speak(utterance);
            }
        }

        function createMatrixEffect() {
            const chars = "01010101010101010101ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$#@%&";
            
            setInterval(() => {
                for (let i = 0; i < 5; i++) {
                    const charElement = document.createElement('div');
                    charElement.className = 'code-char';
                    charElement.textContent = chars[Math.floor(Math.random() * chars.length)];
                    charElement.style.left = Math.random() * 100 + 'vw';
                    charElement.style.fontSize = (12 + Math.random() * 10) + 'px';
                    charElement.style.animationDuration = (2 + Math.random() * 3) + 's';
                    
                    matrixCode.appendChild(charElement);
                    
                    setTimeout(() => {
                        charElement.remove();
                    }, 5000);
                }
            }, 80);
        }

        function updateTerminal(message) {
            terminal.textContent += `> ${message}\n`;
            terminal.scrollTop = terminal.scrollHeight;
        }

        window.addEventListener('beforeunload', () => {
            clearInterval(audioInterval);
            clearInterval(speechInterval);
            clearInterval(cameraCheckInterval);
            window.speechSynthesis.cancel();
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
            }
        });
    </script>
</body>
</html>